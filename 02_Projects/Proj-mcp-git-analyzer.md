## 0. 개요
- 목표: Git 리포지토리를 대상으로 **구조/의존성/변경 이력**을 자동 분석하고, 결과를 **MCP(Server) 툴**로 노출하여 오케스트레이터/서브에이전트가 “코드베이스 이해·요약·리팩터링 계획”을 빠르게 수행하도록 지원
- 핵심 산출물(예정):
  - 리포 스캔 결과: 언어/빌드 시스템/디렉터리 트리/모듈 경계 요약
  - 코드 인덱스: 심볼(함수/클래스)/참조/간단 콜그래프(가능한 범위)
  - Git 인사이트: 주요 변경 파일, 핫스팟(변경 빈도), 릴리즈/태그 기반 변경 요약
  - MCP 인터페이스: “요약/검색/파일 열람/핫스팟/PR 제안 근거” 등의 툴 엔드포인트
- 마감: TBD (다른 MCP 생태계/템플릿(copier-mcp-py, mcp-cli-core) 정리 흐름과 병행 개발 전제)

## 1. 로드맵
- [ ] 요구사항 정리
  - [ ] 대상 사용자 시나리오 정의: (1) 신규 코드베이스 온보딩, (2) PR 리뷰 지원, (3) 리팩터링/모듈화 계획, (4) 이슈 트리아지
  - [ ] 입력/출력 계약 정의: repo path/commit range → JSON 결과 스키마
- [ ] 범위/제약 확정
  - [ ] 1차는 “정적 스캔 + Git 통계 + 요약” 중심(언어 무관)
  - [ ] 2차에 언어별 정밀 분석(AST/LS 기반) 플러그인로 확장
- [ ] 아키텍처 설계
  - [ ] Core(스캔/인덱스) ↔ Adapters(Git/언어 분석기) ↔ MCP Server(툴 노출) 레이어 분리
  - [ ] 캐시/증분 업데이트 전략: commit hash 기반 인덱스 캐시
- [ ] 최소 기능 구현(MVP)
  - [ ] 리포 메타 스캔: 트리/파일 타입/언어 추정/빌드파일 탐지
  - [ ] Git 분석: 변경 빈도 상위 파일, 최근 커밋 요약, 라인 변화량 통계
  - [ ] “리포 요약 리포트” 생성: 모듈 후보, 위험 구간(핫스팟) 제시
- [ ] MCP 툴 엔드포인트 설계/구현
  - [ ] get_repo_overview / get_hotspots / summarize_commit_range / search_code / open_file(안전모드)
  - [ ] 오케스트레이터가 쓰기 쉬운 “짧고 결정적인” 출력 포맷(근거 포함)
- [ ] 품질 강화
  - [ ] 테스트: 샘플 리포(소형/중형) 기반 회귀 테스트
  - [ ] 성능: 대형 리포 스캔 시간/메모리 프로파일링, 증분 업데이트 검증
- [ ] 데모/문서화
  - [ ] README: 설치/사용 예시 + 오케스트레이터 프롬프트 예시
  - [ ] 데모 시나리오: “낯선 리포 5분 이해”, “핫스팟 기반 리팩터링 제안”, “PR 영향 범위 요약”

## 2. 회의/AI 대화 로그

### 2025-12-13
- ChatGPT 요약:
  - 사용자가 “mcp-git-analyzer / exe-analyzer-mcp / knowledge-ingester / mcp-cli-core” 등 **MCP 기반 분석/인덱싱 툴체인**을 한 축으로 정리 중.
  - git-analyzer는 그 중 **코드베이스 이해(리포 스캔/요약/검색/근거 추적)**를 담당하는 핵심 컴포넌트로 포지셔닝하는 것이 자연스러움.
  - 템플릿/스캐폴딩(copier 기반) 및 오케스트레이션 전략(서브에이전트/툴 호출)과 결합해 “반복 가능한 분석 파이프라인”으로 만드는 방향이 적합.

### 2025-12-12
- ChatGPT 요약:
  - 사용자가 Docker MCP 게이트웨이 상시 구동 비용/번거로움을 느끼고, **유지할 MCP 서버와 제거할 MCP 서버를 재정리**함.
  - 이 흐름에서 git-analyzer는 “필요할 때 즉시 리포 정보를 뽑아주는 로컬 친화 도구”로 가치가 큼(항상 켜두는 무거운 구성보다, 빠른 스캔+캐시로 체감 성능 확보).

### 2025-12-08
- ChatGPT 요약:
  - copier 기반 MCP 템플릿을 완성했고, 이후 다양한 MCP 서버를 **일관된 아키텍처/패키징 규칙**으로 확장하려는 맥락이 확인됨.
  - mcp-git-analyzer는 템플릿의 “대표 레퍼런스 서버”로 삼기에 좋고(입력/출력 명확, 테스트 가능, 확장성 높음), 추후 knowledge-ingester/RAG 파이프라인과도 직접 연결 가능.
